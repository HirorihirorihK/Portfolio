# **目的**

データ収集からデータ整形、加工、分析、予測を行うこと

職業訓練で学んだことを一連の流れで行うこと

# **概要**

スクレイピングで取得したデータを整形し、データベース登録用CSVの作成

及び、作成したCSVで機械学習を用いた分析

使用ソフト

・Python　

・EXCEL MICROSOFT365　

・DB Browser for SQLite 3.32.2

# python version

・Python	3.8.13　　　

・numpy	1.18.5

・pandas	1.5.1

・matplotlib	3.5.1

・beautifulsoup4	4.11.1

・urllib3		1.26.12

・keras	2.4.3 

・tensorflow	2.3.0

# 実行ファイル 1
 
**01_Complete_pitcher_league_2023.ipynb**

パワプロのデータをwebよりスクレイピングでデータを取得する。(複数年分取得可能)

セ・リーグかパ・リーグを選択し、選択したリーグの6チーム分のデータを取得する。

投手、野手で項目が変わるため、個別に作成する。

ステータスをまず取得する。背番号が別ページにあるため、「名前と背番号」を別途取得。

pandasで[ ステータス ] のDFと [ 名前、背番号 ] のDFを名前をキーにして結合。

チームごとに結合後、一括処理でリーグの投手データに処理してcsvに保存する。

# 実行ファイル 2

**02_complete_fileder_league.ipynb**

野手データを取得する。

投手データと同様にpandasで[ ステータス ] のDFと [ 名前、背番号 ] のDFを名前をキーにして結合。

チームごとに結合後、一括処理でリーグの野手データに処理してcsvに保存する。

# 実行ファイル 3

**03_LinearRegression_2023.ipynb**

実行ファイル1,2で作成したcsvを読み込み、一つのデータに統合

チームのステータスを各年度ごとの平均値にして、データフレーム化

(2011 2012 2013 2014 2016 2018 2020 2022　※ナンバリングタイトルの年度)

目的変数、説明変数に分け、線形回帰で勝率の予測モデルを作成(2022以外を使用)

決定係数: 約0.618

モデル作成後、2022のデータを用いて、勝率を予測

予測値

1:中日　62.19%　2:巨人　59.44%　3:DeNA　53.17%　4:広島51.70%　5:ヤクルト48.15%　6:阪神47.15%

